(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"title":"Post Hazard Image","name":"emergency-info/post-hazard-image","category":"emergency-info","icon":"embed-photo","textdomain":"emergency-info","usesContext":["postId","postType"],"editorScript":"file:./index.js"}'),o=window.wp.element,r=window.wp.data,a=window.wp.blockEditor,n=window.wp.components;(0,e.registerBlockType)(t,{edit:e=>{let{context:{postType:t,postId:i}}=e;const s=(0,a.useBlockProps)(),c=(0,r.useSelect)((e=>{const o=e("core/editor").getEditedPostAttribute("hazard_type");let r=0;if(o)r=o[0];else{const o=e("core").getEntityRecord("postType",t,i);o?.hazard_type&&(r=o?.hazard_type[0])}if(!r)return null;const a=e("core").getEntityRecord("taxonomy","hazard_type",r);let n=null;return a&&(n=e("core").getMedia(a.acf.hazard_image.value,{context:"view"})),n})),d=("medium",(l=c)?.media_details?.sizes?.medium?.source_url||l?.source_url);var l;return(0,o.createElement)("div",s,(0,o.createElement)("div",{className:"hazard-image hazard-background"},c?(0,o.createElement)("img",{src:d,alt:c.alt_text}):(0,o.createElement)(n.Spinner,null)))},save:()=>null})})();