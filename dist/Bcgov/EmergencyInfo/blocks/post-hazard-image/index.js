(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"title":"Post Hazard Image","name":"emergency-info/post-hazard-image","category":"emergency-info","icon":"embed-photo","textdomain":"emergency-info","usesContext":["postId","postType"],"editorScript":"file:./index.js"}'),o=window.wp.data,r=window.wp.blockEditor,s=window.wp.components,a=window.ReactJSXRuntime;(0,e.registerBlockType)(t,{edit:({context:{postType:e,postId:t}})=>{const i=(0,r.useBlockProps)(),n=(0,o.useSelect)((o=>{const r=o("core/editor").getEditedPostAttribute("hazard_type");let s=0;if(r)s=r[0];else{const r=o("core").getEntityRecord("postType",e,t);r?.hazard_type&&(s=r?.hazard_type[0])}if(!s)return null;const a=o("core").getEntityRecord("taxonomy","hazard_type",s);let i=null;return a&&(i=o("core").getMedia(a.acf.hazard_image.value,{context:"view"})),i})),c=(d=n,d?.media_details?.sizes?.medium?.source_url||d?.source_url);var d;return(0,a.jsx)("div",{...i,children:(0,a.jsx)("div",{className:"hazard-image hazard-background",children:n?(0,a.jsx)("img",{src:c,alt:n.alt_text}):(0,a.jsx)(s.Spinner,{})})})},save:()=>null})})();