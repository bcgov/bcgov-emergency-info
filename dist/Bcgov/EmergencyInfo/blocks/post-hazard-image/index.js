(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"title":"Post Hazard Image","name":"emergency-info/post-hazard-image","category":"emergency-info","icon":"embed-photo","textdomain":"emergency-info","usesContext":["postId","postType"],"editorScript":"file:./index.js"}'),o=window.React,r=window.wp.data,a=window.wp.blockEditor,n=window.wp.components;(0,e.registerBlockType)(t,{edit:({context:{postType:e,postId:t}})=>{const i=(0,a.useBlockProps)(),s=(0,r.useSelect)((o=>{const r=o("core/editor").getEditedPostAttribute("hazard_type");let a=0;if(r)a=r[0];else{const r=o("core").getEntityRecord("postType",e,t);r?.hazard_type&&(a=r?.hazard_type[0])}if(!a)return null;const n=o("core").getEntityRecord("taxonomy","hazard_type",a);let i=null;return n&&(i=o("core").getMedia(n.acf.hazard_image.value,{context:"view"})),i})),c=(d=s,"medium",d?.media_details?.sizes?.medium?.source_url||d?.source_url);var d;return(0,o.createElement)("div",{...i},(0,o.createElement)("div",{className:"hazard-image hazard-background"},s?(0,o.createElement)("img",{src:c,alt:s.alt_text}):(0,o.createElement)(n.Spinner,null)))},save:()=>null})})();