!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.jQuery,n=e.n(t);n()((()=>{const e=n()("#region-select"),t=n()("#region-autocomplete-input"),o=terms,a=()=>{document.getElementById("region-autocomplete-input").setCustomValidity("")};n()('input[name="tax_region_all"]').on("change",(t=>{"1"===t.target.value?(n()(".region-section").hide(),n()(".all-region-section").show(),e.prop("disabled",!0)):(n()(".region-section").show(),n()(".all-region-section").hide(),e.prop("disabled",!1)),a()})),n()('input[name="tax_region_all"]:checked').trigger("change");const i=()=>{let t="";e.val().forEach((e=>{const n=o.findLast((t=>t.value===+e));t+=`<li aria-label="${n.label}" tabindex="0">\n                <span class="region-pill">\n                    <span>\n                        ${n.label}\n                    </span>\n                    <button class="btn btn-secondary" aria-label="Remove ${n.label}" data-id="${n.value}" tabindex="0"><i class="bi-x-circle-fill"></i></button>\n                </span>\n            </li>`})),t?n()(".region-autocomplete-label").html("Your locations:"):n()(".region-autocomplete-label").html(""),n()(".region-list").html(t),n()(".region-list button").on("click",(t=>{(t=>{const n=e.val(),o=n.indexOf(t);-1!==o&&(n.splice(o,1),e.val(n)),a()})(t.currentTarget.dataset.id),i()}))};t.on("keydown",(function(e){e.keyCode===n().ui.keyCode.TAB&&n()(this).autocomplete("instance").menu.active&&e.preventDefault()})).autocomplete({minLength:0,source:o,position:{of:".region-autocomplete"},appendTo:"#listbox-wrapper",classes:{"ui-autocomplete":"soft-shadow"},focus:()=>{const e=n()("#listbox-wrapper").find(".ui-state-active").attr("id");return t.attr("aria-activedescendant",e),n()(".ui-autocomplete div").attr("aria-selected","false"),n()(".ui-autocomplete div.ui-state-active").attr("aria-selected","true"),!1},select:(n,o)=>{const l=o.item.value;return e.val().includes(l)||((t=>{const n=e.val();n.push(t),e.val(n),a()})(l),i()),t.val(""),!1},response:(e,t)=>{0===t.content.length&&t.content.push({value:"",label:"No results found."})}}),n().ui.autocomplete.prototype._renderItem=(e,t)=>n()("<li></li>").append('<div role="option">'+t.label+"</div>").appendTo(e),n().ui.autocomplete.prototype._renderMenu=function(e,t){const o=this;n().each(t,((t,n)=>{o._renderItemData(e,n)})),n()(e).attr("role","listbox")},i();const l=document.querySelectorAll(".needs-validation");Array.from(l).forEach((e=>{e.addEventListener("submit",(t=>{const n=document.getElementById("region-select"),o=document.getElementById("region-autocomplete-input");o.checkVisibility()&&(n.value.length<1?o.setCustomValidity("You must select at least one location."):o.setCustomValidity(""),o.reportValidity()),e.checkValidity()||(t.preventDefault(),t.stopPropagation())}),!1)}))}))}();